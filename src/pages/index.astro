---
import "../styles/layout.css";

import Nav from "../components/Nav.astro";

import Movingbanner from "../components/Movingbanner.astro";

import Banner from "../components/Banner.astro";

import Footer from "../components/Footer.astro";

import Pinkbanner from "../components/Pinkbanner.astro"; 

---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital@0;1&display=swap" rel="stylesheet">
	</head>
	<body>
		<Nav/> 
		<div class="herotext">
			<h1>KARRUSEL</h1>
		</div>
		<main>
			<Banner/>
			<div class="carousel-container">
            <div class="carousel-track">
                <div class="carousel-slide">
                    <img src="img/karrusel_1.jpg" alt="1">
                </div>
                <div class="carousel-slide">
                    <img src="img/karrusel_2.jpg" alt="2">
                </div>
                <div class="carousel-slide">
                    <img src="img/karrusel_3.jpg" alt="3">
                </div>
                <div class="carousel-slide">
                    <img src="img/karrusel_4.jpg" alt="4">
                </div>
                <div class="carousel-slide">
                    <img src="img/karrusel_5.jpg" alt="5">
                </div>
                <div class="carousel-slide">
                    <img src="img/karrusel_6.jpg" alt="6">
                </div>
				<div class="carousel-slide">
                    <img src="img/karrusel_7.jpg" alt="7">
                </div>
                <div class="carousel-slide">
                    <img src="img/karrusel_8.jpg" alt="8">
                </div>
				<div class="carousel-slide">
                    <img src="img/karrusel_9.jpg" alt="9">
                </div>
                <div class="carousel-slide">
                    <img src="img/karrusel_10.jpg" alt="10">
                </div>
            </div>
            <button class="custom-btn prev-btn">
                <span class="arrow">&#8592;</span>
            </button>
            <button class="custom-btn next-btn">
                <span class="arrow">&#8594;</span>
            </button>
        </div> <br><br><br><br><br>
		<Pinkbanner/>
			<Movingbanner/>
		</main>
		<Footer/>
	</body>
</html>


<style>

.carousel-container {
  position: relative;
  width: 70%;
  margin: 0 auto;
  overflow: hidden;
}

.carousel-track {
  display: flex;
  transition: transform 0.5s ease-in-out;
  gap: 10px;
}

.carousel-slide {
  width: 50%; /* Dela på 50% för att visa två bilder på en rad */
  flex: 0 0 auto; /* Använda auto flex-basis för dynamisk bredd */
  margin: 0;
  padding: 0;
}

.carousel-slide img {
  width: 100%; 
  height: auto; 
  max-width: 100%;
  max-height: 100%;
}

.custom-btn {
  position: absolute;
  top: 60%;
  transform: translateY(-50%);
  background: none;
  border: none;
  cursor: pointer;
}

.prev-btn {
  left: 10px;
  background-color: #FFF3ED;
  color: #430708;
  border-radius: 100%;
  width: 20px;
  height: 20px;
}

.next-btn {
  right: 10px;
  background-color: #FFF3ED;
  color: #430708;
  border-radius: 100%;
  width: 20px;
  height: 20px;
}

.arrow {
  font-size: 13px;
}
</style>

<script>

// Carousel
document.addEventListener("DOMContentLoaded", function () {
  const track = document.querySelector(".carousel-track");
  const slides = document.querySelectorAll(".carousel-slide");
  const prevBtn = document.querySelector(".prev-btn");
  const nextBtn = document.querySelector(".next-btn");
  const slideWidth = slides[0].offsetWidth;
  const visibleSlides = 2; // Antal synlige billeder
  let currentIndex = 0;

  function updateCarousel() {
    const newTransformValue = -currentIndex * slideWidth + "px";
    track.style.transform = "translateX(" + newTransformValue + ")";
  }

  function nextSlide() {
    currentIndex++;
    track.style.transition = "transform 0.5s ease-in-out";
    updateCarousel();

    if (currentIndex >= slides.length - visibleSlides + 1) {
      // Når vi nærmer os slutningen, gå tilbage til starten uden animation
      currentIndex = 0;
      track.style.transition = "none";
      updateCarousel();
    }
  }

  function prevSlide() {
    currentIndex--;
    track.style.transition = "transform 0.5s ease-in-out";
    updateCarousel();

    if (currentIndex < 0) {
      // Når vi går baglæns forbi det første billede, gå tilbage til slutningen uden animation
      currentIndex = slides.length - 1;
      track.style.transition = "none";
      updateCarousel();
    }
  }

  nextBtn.addEventListener("click", nextSlide);
  prevBtn.addEventListener("click", prevSlide);
});

</script>